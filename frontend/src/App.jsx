import { useState } from 'react'; import './App.css'; export default function App() { const [email, setEmail] = useState(''); const [password, setPassword] = useState(''); const [error, setError] = useState(''); const [loading, setLoading] = useState(false); const [isLoggedIn, setIsLoggedIn] = useState(false); const [user, setUser] = useState(null); const [showAdminPanel, setShowAdminPanel] = useState(false); const [newUserEmail, setNewUserEmail] = useState(''); const [newUserPassword, setNewUserPassword] = useState(''); const [newUserName, setNewUserName] = useState(''); const [users, setUsers] = useState([{ id: 1, email: 'mathias2matheus2@gmail.com', name: 'Admin', role: 'admin' }, { id: 2, email: 'mmlightdesigner@gmail.com', name: 'Matheus Designer', role: 'user' }]); const handleLogin = (e) => { e.preventDefault(); setLoading(true); setError(''); const loggedInUser = users.find(u => u.email === email); if (!loggedInUser || loggedInUser.password !== password) { setError('Email ou senha incorretos'); setLoading(false); return; } setUser(loggedInUser); setIsLoggedIn(true); setEmail(''); setPassword(''); setLoading(false); }; const handleAddUser = (e) => { e.preventDefault(); if (!newUserEmail || !newUserPassword || !newUserName) { alert('Preencha todos os campos!'); return; } const newUser = { id: users.length + 1, email: newUserEmail, name: newUserName, role: 'user', password: newUserPassword }; setUsers([...users, newUser]); setNewUserEmail(''); setNewUserPassword(''); setNewUserName(''); alert('✅ Usuário adicionado com sucesso!'); }; const handleDeleteUser = (id) => { if (id === 1) { alert('Não é possível deletar o admin!'); return; } setUsers(users.filter(u => u.id !== id)); alert('✅ Usuário removido!'); }; const handleLogout = () => { setIsLoggedIn(false); setUser(null); setShowAdminPanel(false); }; if (isLoggedIn) { return (<div className="dashboard"><div className="dashboard-header"><h1>🏆 NEXUS SUPREME PRO</h1><div className="header-actions">{user?.role === 'admin' && (<button className="btn-admin" onClick={() => setShowAdminPanel(!showAdminPanel)}>{showAdminPanel ? '← Voltar' : '⚙️ Painel Admin'}</button>)}<button onClick={handleLogout} className="btn-logout">Sair</button></div></div>{showAdminPanel && user?.role === 'admin' ? (<div className="admin-panel"><div className="admin-content"><h2>👨‍💼 Painel de Administração</h2><div className="admin-section"><h3>➕ Adicionar Novo Usuário</h3><form onSubmit={handleAddUser} className="admin-form"><div className="form-row"><input type="email" placeholder="Email" value={newUserEmail} onChange={(e) => setNewUserEmail(e.target.value)} required/><input type="password" placeholder="Senha" value={newUserPassword} onChange={(e) => setNewUserPassword(e.target.value)} required/><input type="text" placeholder="Nome" value={newUserName} onChange={(e) => setNewUserName(e.target.value)} required/><button type="submit" className="btn-add">Adicionar</button></div></form></div><div className="admin-section"><h3>👥 Lista de Usuários</h3><div className="users-list">{users.map(u => (<div key={u.id} className="user-item"><div className="user-info"><p><strong>{u.name}</strong> ({u.role})</p><p className="user-email">{u.email}</p></div><button className="btn-delete" onClick={() => handleDeleteUser(u.id)}>Remover</button></div>))}</div></div></div></div>) : (<div className="dashboard-content"><h2>Bem-vindo, {user?.name}!</h2><div className="user-info"><p><strong>Email:</strong> {user?.email}</p><p><strong>Função:</strong> {user?.role === 'admin' ? '👨‍💼 Administrador' : '👤 Usuário'}</p></div></div>)}</div>); } return (<div className="login-container"><div className="login-card"><div className="login-header"><h1>🏆 NEXUS SUPREME PRO</h1><p>Enterprise Cookie Management System</p></div><form onSubmit={handleLogin}><div className="form-group"><label htmlFor="email">Email:</label><input id="email" type="email" value={email} onChange={(e) => setEmail(e.target.value)} placeholder="seu@email.com" required disabled={loading}/></div><div className="form-group"><label htmlFor="password">Senha:</label><input id="password" type="password" value={password} onChange={(e) => setPassword(e.target.value)} placeholder="••••••••" required disabled={loading}/></div>{error && <div className="error-message">{error}</div>}<button type="submit" className="btn-login" disabled={loading}>{loading ? 'Conectando...' : 'Entrar'}</button></form><div className="demo-section"><p className="demo-title">📌 Seus Logins:</p><div className="demo-box"><p><strong>Admin:</strong> mathias2matheus2@gmail.com</p><p><strong>Seu Email:</strong> mmlightdesigner@gmail.com</p></div></div></div></div>); }
